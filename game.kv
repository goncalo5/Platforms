#:import settings settings

<Sprite>:
    size_hint: None, None
    size: app.tilesize, app.tilesize
    tile: 0, 0
    x: app.tilesize * self.tile[0]
    y: app.tilesize * self.tile[1]

<Platform>:
    color: settings.COLORS.get("brown")

<Rock>:
    color: settings.COLORS.get("darkbrown")

<Coin>:
    color: settings.COLORS.get("yellow")

<Flag>:
    color: settings.COLORS.get("red")

<Game>:
    Label:
        text: "fps: %s" % int(root.fps)
        size_hint: None, None
        x: app.width / 2
        top: app.height
    Label:
        text: "gold: %s" % int(root.gold)
        size_hint: None, None
        x: app.width * 3 / 4
        top: app.height
    Label:
        text: "%s" % root.game_over_msg
        size_hint: None, None
        center_x: app.width * 0.5
        y: app.height * 0.5
    Button:
        text: "next level"
        size_hint: None, None
        size: self.texture_size
        center_x: app.width * 0.5
        y: app.height * 0.4
        disabled: not root.win
        opacity: root.win

<StoreScreen@Screen>

<MainMenu@Screen>:
    Button:
        text: "Play"
        on_press:
            root.manager.new_game()

<MetaGame>:
    id: meta_game
    game: game_screen
    MainMenu:
        id: main_menu
        name: "main_menu"
        manager: meta_game
    Game:
        id: game_screen
        name: "game_screen"
        manager: meta_game
    StoreScreen:
        id: store_screen
        name: "store_screen"
        manager: meta_game