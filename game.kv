#:import settings settings

<Sprite>:
    size_hint: None, None
    size: self.tilesize, self.tilesize
    tile: 0, 0
    x: self.tilesize * self.tile[0]
    y: self.tilesize * self.tile[1]

<Platform>:
    color: settings.COLORS.get("brown")

<Rock>:
    color: settings.COLORS.get("darkbrown")

<Coin>:
    color: settings.COLORS.get("yellow")

<Flag>:
    color: settings.COLORS.get("red")

<Game>:
    label_over: label_over
    button_over: button_over
    Label:
        text: "fps: %s" % int(root.fps)
        size_hint: None, None
        x: app.width * 0.2
        top: app.height
    Label:
        text: "gold: %s" % int(root.gold)
        size_hint: None, None
        x: app.width * 3 / 4
        top: app.height
    Label:
        id: label_over
        text: ""
        size_hint: None, None
        center_x: app.width * 0.5
        y: app.height * 0.5
    Label:
        text: "level: %s" % root.manager.level
        size_hint: None, None
        center_x: app.width * 0.5
        top: app.height
    Button:
        id: button_over
        text: "next level"
        size_hint: None, None
        size: self.texture_size
        center_x: app.width * 0.5
        y: app.height * 0.4
        disabled: 1
        opacity: 0
        on_press:
            root.manager.new_game()

<StoreScreen@Screen>

<MainMenu@Screen>:
    Button:
        text: "Play"
        on_press:
            root.manager.start_a_game()

<MetaGame>:
    id: meta_game
    game: game_screen
    MainMenu:
        id: main_menu
        name: "main_menu"
        manager: meta_game
    Game:
        id: game_screen
        name: "game_screen"
        manager: meta_game
    StoreScreen:
        id: store_screen
        name: "store_screen"
        manager: meta_game